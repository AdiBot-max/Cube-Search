<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cube Search</title>
<style>
    body { background:#000; color:#4af1ff; font-family:Arial; text-align:center; padding:40px; }
    input { width:60%; padding:14px; font-size:18px; border-radius:10px; border:2px solid #4af1ff77; background:#0d151c; color:white; }
    button { padding:14px 20px; font-size:18px; border:none; border-radius:10px; background:#4af1ff; cursor:pointer; }
    .result { margin:20px auto; width:70%; background:#0d151c; padding:20px; border-radius:10px; border:1px solid #4af1ff33; }
    a { color:#4af1ff; font-size:22px; text-decoration:none; }
</style>
</head>
<body>

<h1>Cube Search</h1>

<input id="searchBox" placeholder="Searchâ€¦">
<button onclick="startSearch()">Search</button>

<div id="results"></div>

<script>
async function startSearch() {
    const q = document.getElementById("searchBox").value.trim();
    if (!q) return;

    const res = await fetch(`/api/search?q=${encodeURIComponent(q)}`);
    const data = await res.json();

    const container = document.getElementById("results");
    container.innerHTML = "";

    const results = data.webPages?.value || [];

    results.forEach(r => {
        container.innerHTML += `
            <div class="result">
                <a href="${r.url}" target="_blank">${r.name}</a>
                <p>${r.snippet}</p>
            </div>
        `;
    });
}
</script>

</body>
</html>
